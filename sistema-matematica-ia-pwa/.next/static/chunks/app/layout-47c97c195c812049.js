(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2909:(e,t,r)=>{Promise.resolve().then(r.bind(r,6903))},6003:()=>{},6903:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(5155),a=r(2115),s=r(5568),n=r(6374),i=r(9018);r(2500);var l=r(9573);r(6003),r(635);let d={fontFamily:"Montserrat, sans-serif",primaryColor:"blue"};function h(e){let{children:t}=e,r=(0,i.n)(e=>e.theme),[h,u]=(0,a.useState)("light");return(0,a.useEffect)(()=>{let e;u(e="auto"===r?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r),document.body.classList.remove("light-theme","dark-theme"),"dark"===e?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme")},[r]),(0,a.useEffect)(()=>{if("auto"!==r)return;let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{console.log("System theme changed, updating effective color scheme (if auto)");let t=e.matches?"dark":"light";u(t),document.body.classList.remove("light-theme","dark-theme"),document.body.classList.add("dark"===t?"dark-theme":"light-theme")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[r]),(0,o.jsxs)("html",{lang:"es",suppressHydrationWarning:!0,className:"dark"===h?"dark-theme":"light-theme",children:[(0,o.jsxs)("head",{children:[(0,o.jsx)(s.c,{defaultColorScheme:r}),(0,o.jsx)("meta",{charSet:"UTF-8"}),(0,o.jsx)("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width, user-scalable=no"})]}),(0,o.jsx)("body",{suppressHydrationWarning:!0,className:"dark"===h?"dark-theme":"light-theme",children:(0,o.jsxs)(n.y,{theme:d,defaultColorScheme:h,forceColorScheme:h,children:[(0,o.jsx)(l.$,{}),t]})})]})}},9018:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var o=r(5453),a=r(6786);let s=(0,o.v)()((0,a.Zr)((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,theme:"light",setUser:(t,r)=>{console.log("AuthStore: Setting user and token",{user:t,token:r}),e({user:t,token:r,isAuthenticated:!!t&&!!r,isLoading:!1,error:null})},logout:()=>{console.log("AuthStore: Logging out"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})},setCountryOfOrigin:t=>{e(e=>({user:e.user?{...e.user,countryOfOrigin:t}:null}))},setLoading:t=>e({isLoading:t}),setError:t=>e({isLoading:!1,error:t}),hydrateAuth:(t,r)=>{t&&r?(console.log("AuthStore: Hydrating auth state",{initialUser:t,initialToken:r}),e({user:t,token:r,isAuthenticated:!0,isLoading:!1,error:null})):e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})},setTheme:t=>{console.log("AuthStore: Setting theme to",t),e({theme:t})},toggleTheme:()=>{let r,o=t().theme;console.log("AuthStore: Toggling theme to",r="light"===o?"dark":"dark"===o||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark"),e({theme:r})}}),{name:"pwa-auth-storage",storage:(0,a.KU)(()=>localStorage),partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated,theme:e.theme}),onRehydrateStorage:()=>e=>{console.log("AuthStore: State rehydrated from localStorage. Theme:",null==e?void 0:e.theme),e&&(e.isLoading=!1)}}))}},e=>{var t=t=>e(e.s=t);e.O(0,[365,9,438,660,182,986,441,684,358],()=>t(2909)),_N_E=e.O()}]);