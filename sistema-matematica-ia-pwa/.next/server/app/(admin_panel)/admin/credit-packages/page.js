(()=>{var e={};e.id=154,e.ids=[154],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12234:(e,t,r)=>{"use strict";r.d(t,{u:()=>i});var s=r(51060),a=r(50894);let i=s.A.create({baseURL:"http://localhost:3000/api"});i.interceptors.request.use(e=>{let t=a.n.getState().token;return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response&&e.response.status,Promise.reject(e)))},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20278:(e,t,r)=>{Promise.resolve().then(r.bind(r,23172))},21820:e=>{"use strict";e.exports=require("os")},23172:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(60687),a=r(63090),i=r(99445),n=r(23376),d=r(3802),o=r(88767),l=r(6445),c=(0,l.A)("outline","packages","IconPackages",[["path",{d:"M7 16.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-0"}],["path",{d:"M2 13.5v5.5l5 3",key:"svg-1"}],["path",{d:"M7 16.545l5 -3.03",key:"svg-2"}],["path",{d:"M17 16.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-3"}],["path",{d:"M12 19l5 3",key:"svg-4"}],["path",{d:"M17 16.5l5 -3",key:"svg-5"}],["path",{d:"M12 13.5v-5.5l-5 -3l5 -3l5 3v5.5",key:"svg-6"}],["path",{d:"M7 5.03v5.455",key:"svg-7"}],["path",{d:"M12 8l5 -3",key:"svg-8"}]]),p=r(37202),u=r(84349),h=r(39091),x=r(8693),m=r(51423),g=r(54050),j=r(16189),v=r(47874),y=r(47485),k=r(61547),b=r(61279),A=r(91561),P=r(82287),w=r(46521),_=r(6099),f=r(16537),q=(0,l.A)("outline","circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),C=(0,l.A)("outline","circle-x","IconCircleX",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]]),T=r(11529),E=r(83237),X=r(61357),D=r.n(X);function z({packages:e,isLoading:t,onEdit:r,onDelete:n}){let d=e.map(e=>(0,s.jsxs)(k.X.Tr,{className:D().dataRow,children:[(0,s.jsx)(k.X.Td,{children:e.name}),(0,s.jsx)(k.X.Td,{className:D().descriptionCell,children:e.description||"-"}),(0,s.jsx)(k.X.Td,{style:{textAlign:"center"},children:e.credit_amount}),(0,s.jsx)(k.X.Td,{style:{textAlign:"right"},children:e.price?.toLocaleString("es-PE",{style:"currency",currency:"PEN"})}),(0,s.jsx)(k.X.Td,{style:{textAlign:"center"},children:(0,s.jsx)(b.E,{color:e.isActive?"green":"red",variant:"light",leftSection:e.isActive?(0,s.jsx)(q,{size:14}):(0,s.jsx)(C,{size:14}),children:e.isActive?"Activo":"Inactivo"})}),(0,s.jsx)(k.X.Td,{style:{textAlign:"center"},children:(0,s.jsxs)(i.Y,{gap:"xs",justify:"center",wrap:"nowrap",children:[(0,s.jsx)(A.m,{label:"Editar Paquete",children:(0,s.jsx)(P.M,{variant:"subtle",color:"blue",onClick:()=>r(e),children:(0,s.jsx)(T.A,{size:18})})}),(0,s.jsx)(A.m,{label:"Eliminar Paquete",children:(0,s.jsx)(P.M,{variant:"subtle",color:"red",onClick:()=>n(e),children:(0,s.jsx)(E.A,{size:18})})})]})})]},e.id));return(0,s.jsx)(a.a,{className:D().tableWrapper,children:(0,s.jsxs)(k.X,{striped:!0,highlightOnHover:!0,withColumnBorders:!0,verticalSpacing:"sm",miw:700,children:[(0,s.jsx)(k.X.Thead,{className:D().tableHeader,children:(0,s.jsxs)(k.X.Tr,{children:[(0,s.jsx)(k.X.Th,{children:"Nombre del Paquete"}),(0,s.jsx)(k.X.Th,{children:"Descripci\xf3n"}),(0,s.jsx)(k.X.Th,{style:{textAlign:"center",width:"100px"},children:"Cr\xe9ditos"}),(0,s.jsx)(k.X.Th,{style:{textAlign:"right",width:"120px"},children:"Precio (PEN)"}),(0,s.jsx)(k.X.Th,{style:{textAlign:"center",width:"120px"},children:"Estado"}),(0,s.jsx)(k.X.Th,{style:{textAlign:"center",width:"100px"},children:"Acciones"})]})}),(0,s.jsxs)(k.X.Tbody,{children:[t&&(0,s.jsx)(k.X.Tr,{children:(0,s.jsx)(k.X.Td,{colSpan:6,children:(0,s.jsx)(w.o,{p:"xl",children:(0,s.jsx)(_.a,{color:"blue"})})})}),!t&&0===e.length&&(0,s.jsx)(k.X.Tr,{children:(0,s.jsx)(k.X.Td,{colSpan:6,children:(0,s.jsx)(w.o,{p:"xl",children:(0,s.jsx)(f.E,{c:"dimmed",children:"No hay paquetes de cr\xe9dito definidos."})})})}),!t&&e.length>0&&d]})]})})}let M=new h.E({});function N(){return(0,s.jsx)(x.Ht,{client:M,children:(0,s.jsx)(O,{})})}function O(){let e=(0,j.useRouter)(),t=(0,x.jE)(),{data:r,isError:l,isLoading:h,refetch:k}=(0,m.I)({queryKey:["credit-packages"],queryFn:y.d.getCreditPackages}),b=Array.isArray(r)?r:r?.data||[];Array.isArray(r)?r.length:r?.total;let{mutateAsync:A}=(0,g.n)({mutationFn:y.d.deleteCreditPackage,onSuccess:(e,r)=>{v.$e.show({title:"Paquete Eliminado",message:`El paquete de cr\xe9dito ha sido eliminado.`,color:"green"}),t.invalidateQueries({queryKey:["credit-packages"]})},onError:e=>{v.$e.show({title:"Error al Eliminar",message:e.message||"No se pudo eliminar el paquete.",color:"red"})}}),P=async e=>{window.confirm(`\xbfEst\xe1 seguro de que desea eliminar el paquete "${e.name}"?`)&&await A(e.id||"")};return(0,s.jsxs)(a.a,{p:"lg",children:[(0,s.jsxs)(i.Y,{justify:"space-between",mb:"xl",children:[(0,s.jsxs)(n.h,{order:2,children:[(0,s.jsx)(c,{size:28,style:{marginRight:"10px",verticalAlign:"bottom"}}),"Gesti\xf3n de Paquetes de Cr\xe9dito"]}),(0,s.jsxs)(i.Y,{children:[(0,s.jsx)(d.$,{onClick:()=>e.push("/admin/credit-packages/create"),leftSection:(0,s.jsx)(c,{size:18}),variant:"filled",color:"blue",children:"Nuevo Paquete"}),(0,s.jsx)(d.$,{onClick:()=>k(),leftSection:(0,s.jsx)(p.A,{size:18}),variant:"default",loading:h&&b.length>0,disabled:h&&b.length>0,children:"Refrescar"})]})]}),l&&!h&&(0,s.jsx)(o.F,{icon:(0,s.jsx)(u.A,{size:"1rem"}),title:"Error de Carga",color:"red",withCloseButton:!0,mb:"md",children:"No se pudieron cargar los paquetes de cr\xe9dito."}),(0,s.jsx)(z,{packages:b,isLoading:h,onEdit:t=>{e.push(`/admin/credit-packages/edit/${t.id}`)},onDelete:P})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38317:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),d=r(30893),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(t,o);let l={children:["",{children:["(admin_panel)",{children:["admin",{children:["credit-packages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67444)),"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/admin/credit-packages/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,36201)),"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/admin/credit-packages/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(admin_panel)/admin/credit-packages/page",pathname:"/admin/credit-packages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},47485:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var s=r(12234);let a={getCreditPackages:async()=>(await s.u.get("/credit-packages")).data,getCreditPackageById:async e=>(await s.u.get(`/credit-packages/${e}`)).data,createCreditPackage:async e=>(await s.u.post("/credit-packages",e)).data,updateCreditPackage:async(e,t)=>(await s.u.patch(`/credit-packages/${e}`,t)).data,async deleteCreditPackage(e){await s.u.delete(`/credit-packages/${e}`)}}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57230:(e,t,r)=>{Promise.resolve().then(r.bind(r,67444))},61357:e=>{e.exports={tableWrapper:"CreditPackageTable_tableWrapper__mRuyi",tableHeader:"CreditPackageTable_tableHeader__LzKzQ",dataRow:"CreditPackageTable_dataRow__gnVyO",descriptionCell:"CreditPackageTable_descriptionCell__Z7t9E"}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67444:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/admin/credit-packages/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/admin/credit-packages/page.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[679,808,260,60,520,970,851],()=>r(38317));module.exports=s})();