(()=>{var e={};e.id=651,e.ids=[651],e.modules={1418:(e,r,t)=>{"use strict";t.d(r,{h:()=>v});var a=t(60687),i=t(3833);t(43210);var s=t(22650),o=t(15048),n=t(44968),d=t(62754),l=t(25800),c=t(46198),p=t(63090),u=t(24351),m={root:"m_9814e45f"};let x={zIndex:(0,s.I)("modal")},h=(0,n.V)((e,{gradient:r,color:t,backgroundOpacity:a,blur:s,radius:n,zIndex:l})=>({root:{"--overlay-bg":r||(void 0!==t||void 0!==a)&&(0,d.B)(t||"#000",a??.6)||void 0,"--overlay-filter":s?`blur(${(0,i.D)(s)})`:void 0,"--overlay-radius":void 0===n?void 0:(0,o.nJ)(n),"--overlay-z-index":l?.toString()}})),v=(0,u.v)((e,r)=>{let t=(0,l.Y)("Overlay",x,e),{classNames:i,className:s,style:o,styles:n,unstyled:d,vars:u,fixed:v,center:g,children:y,radius:f,zIndex:j,gradient:b,blur:_,color:A,backgroundOpacity:k,mod:q,...P}=t,D=(0,c.I)({name:"Overlay",props:t,classes:m,className:s,style:o,classNames:i,styles:n,unstyled:d,vars:u,varsResolver:h});return(0,a.jsx)(p.a,{ref:r,...D("root"),mod:[{center:g,fixed:v},q],...P,children:y})});v.classes=m,v.displayName="@mantine/core/Overlay"},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11593:(e,r,t)=>{"use strict";t.d(r,{p:()=>g});var a=t(60687);t(43210);var i=t(22650),s=t(44968),o=t(28757),n=t(25800),d=t(46198),l=t(63090),c=t(44176),p=t(6099),u=t(1418),m=t(48592),x={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};let h={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:(0,i.I)("overlay")},v=(0,s.V)((e,{zIndex:r})=>({root:{"--lo-z-index":r?.toString()}})),g=(0,c.P9)((e,r)=>{let t=(0,n.Y)("LoadingOverlay",h,e),{classNames:i,className:s,style:c,styles:g,unstyled:y,vars:f,transitionProps:j,loaderProps:b,overlayProps:_,visible:A,zIndex:k,...q}=t,P=(0,o.xd)(),D=(0,d.I)({name:"LoadingOverlay",classes:x,props:t,className:s,style:c,classNames:i,styles:g,unstyled:y,vars:f,varsResolver:v}),w={...h.overlayProps,..._};return(0,a.jsx)(m.e,{transition:"fade",...j,mounted:!!A,children:e=>(0,a.jsxs)(l.a,{...D("root",{style:e}),ref:r,...q,children:[(0,a.jsx)(p.a,{...D("loader"),unstyled:y,...b}),(0,a.jsx)(u.h,{...w,...D("overlay"),darkHidden:!0,unstyled:y,color:_?.color||P.white}),(0,a.jsx)(u.h,{...w,...D("overlay"),lightHidden:!0,unstyled:y,color:_?.color||P.colors.dark[5]})]})})});g.classes=x,g.displayName="@mantine/core/LoadingOverlay"},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30547:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var a=t(60687),i=t(16189),s=t(63090),o=t(11593),n=t(16537),d=t(88767),l=t(99445),c=t(23376),p=t(3802),u=t(58793),m=t(84349),x=t(47703),h=t(8693),v=t(51423),g=t(54050),y=t(47874),f=t(47485),j=t(83154);function b(){let e=(0,i.useRouter)(),r=(0,i.useParams)().id,t=(0,h.jE)(),{data:b,isLoading:_,isError:A,error:k,refetch:q}=(0,v.I)({queryKey:["credit-package",r],queryFn:()=>f.d.getCreditPackageById(r),enabled:!!r,staleTime:3e5}),{mutateAsync:P}=(0,g.n)({mutationFn:e=>f.d.updateCreditPackage(r,e),onSuccess:i=>{y.$e.show({title:"Paquete Actualizado",message:`El paquete "${i.name}" ha sido actualizado exitosamente.`,color:"green",icon:(0,a.jsx)(u.A,{size:18})}),t.invalidateQueries({queryKey:["credit-packages"]}),t.setQueryData(["credit-package",r],i),e.push("/admin/credit-packages")},onError:e=>{y.$e.show({title:"Error al Actualizar",message:e.message||"No se pudo actualizar el paquete de cr\xe9dito.",color:"red",icon:(0,a.jsx)(m.A,{size:18})})}}),D=async e=>{let r={name:e.name,description:e.description,creditAmount:e.creditAmount,price:e.price,isActive:e.isActive};await P(r)};if(_)return(0,a.jsx)(s.a,{p:"lg",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 200px)"},children:(0,a.jsx)(o.p,{visible:!0,overlayProps:{blur:2},loaderProps:{children:(0,a.jsx)(n.E,{children:"Cargando datos del paquete..."})}})});if(A||!b)return(0,a.jsx)(s.a,{p:"lg",children:(0,a.jsxs)(d.F,{icon:(0,a.jsx)(m.A,{size:"1rem"}),title:"Error de Carga",color:"red",withCloseButton:!0,onClose:()=>e.push("/admin/credit-packages"),children:["No se pudieron cargar los datos del paquete o el paquete no existe.",k?.message&&(0,a.jsxs)(n.E,{size:"xs",mt:"xs",children:["Detalle: ",k.message]})]})});let w={name:b.name,description:b.description||null,creditAmount:b.credit_amount||0,price:b.price,isActive:b.is_active};return console.log("initialFormDataForForm",w,b),(0,a.jsxs)(s.a,{p:"lg",className:"form-page-container",children:[(0,a.jsxs)(l.Y,{justify:"space-between",mb:"xl",children:[(0,a.jsx)(c.h,{order:3,children:"Editar Paquete de Cr\xe9dito"}),(0,a.jsx)(p.$,{onClick:()=>e.push("/admin/credit-packages"),variant:"default",size:"xs",leftSection:(0,a.jsx)(x.A,{size:16}),children:"Volver a la Lista"})]}),(0,a.jsx)(j.H,{initialData:w,onSubmit:D,isSaving:!1,onCancel:()=>e.push("/admin/credit-packages")})]})}},33873:e=>{"use strict";e.exports=require("path")},53937:(e,r,t)=>{Promise.resolve().then(t.bind(t,55449))},55449:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/admin/credit-packages/edit/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/admin/credit-packages/edit/[id]/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58793:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var a=(0,t(6445).A)("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66185:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var a=t(65239),i=t(48088),s=t(88170),o=t.n(s),n=t(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let l={children:["",{children:["(admin_panel)",{children:["admin",{children:["credit-packages",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,55449)),"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/admin/credit-packages/edit/[id]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,36201)),"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/admin/credit-packages/edit/[id]/page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(admin_panel)/admin/credit-packages/edit/[id]/page",pathname:"/admin/credit-packages/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},69617:(e,r,t)=>{Promise.resolve().then(t.bind(t,30547))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[679,808,260,60,191,673,520,702,844,851,34],()=>t(66185));module.exports=a})();