exports.id=851,exports.ids=[851],exports.modules={6839:(e,t,n)=>{Promise.resolve().then(n.bind(n,36201))},9531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>W});var s=n(60687),r=n(39091),i=n(8693),o=n(15316),a=n(99445),l=n(50122),d=n(16537),m=n(3802),c=n(1792),h=n(5597),u=n(85814),p=n.n(u),g=n(50894),v=n(91561),b=n(82287),x=n(74729),f=n(18889);function j(){let{theme:e,setTheme:t,toggleTheme:n}=g.n.getState();return(0,s.jsx)(v.m,{label:"dark"===e?"Cambiar a tema claro":"Cambiar a tema oscuro",position:"bottom",withArrow:!0,children:(0,s.jsx)(b.M,{onClick:()=>n(),variant:"default",size:"lg","aria-label":"Toggle color scheme",children:"dark"===e?(0,s.jsx)(x.A,{size:20,stroke:1.5}):(0,s.jsx)(f.A,{size:20,stroke:1.5})})})}var A=n(1703),k=n(47831),C=n(90910);let _=[{href:"/admin/users-pwa",label:"Usuarios (Clientes)",icon:k.A},{href:"/admin/settings",label:"Configuraci\xf3n",icon:C.A},{href:"/admin/credit-packages",label:"Paquetes de Cr\xe9dito",icon:C.A}];var I=n(43210),S=n(16189),N=n(38315),w=n(63090),L=n(60642),P=n(48639),y=n(12562),O=n(25596),D=n(40487),z=n.n(D);function T({item:e,isSubItem:t=!1,onLinkClick:n}){let r=(0,S.usePathname)(),i=()=>e.subItems?.some(e=>e.href&&r.startsWith(e.href))||!1,[o,l]=(0,I.useState)(i()),m=e.subItems&&e.subItems.length>0,c=t=>{m?(t.preventDefault(),l(e=>!e)):e.href&&n&&n()},h=e.href&&r===e.href,u=e.icon,g=(0,s.jsxs)(a.Y,{wrap:"nowrap",gap:"xs",className:z().linkContent,children:[(0,s.jsx)(N.L,{variant:h||o&&m?"light":"transparent",color:h||o&&m?"blue":"gray",size:30,children:(0,s.jsx)(u,{size:18,stroke:1.5})}),(0,s.jsx)(d.E,{size:"sm",fw:h?600:400,className:z().linkLabel,children:e.label}),m&&(0,s.jsx)(w.a,{component:o?y.A:O.A,ml:"auto",size:16,stroke:1.5,className:z().chevron})]});return e.href?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.N,{component:p(),href:e.href,onClick:c,className:`${z().navLink} ${h?z().active:""} ${t?z().subItem:""}`,children:g}),m&&(0,s.jsx)(P.S,{in:o,transitionDuration:200,children:(0,s.jsx)("div",{className:z().subItemsContainer,children:e.subItems?.map(e=>(0,s.jsx)(T,{item:e,isSubItem:!0,onLinkClick:n},e.label))})})]}):m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.N,{onClick:c,className:`${z().navControl} ${i()||o?z().activeParent:""}`,children:g}),(0,s.jsx)(P.S,{in:o,transitionDuration:200,children:(0,s.jsx)("div",{className:z().subItemsContainer,children:e.subItems?.map(e=>(0,s.jsx)(T,{item:e,isSubItem:!0,onLinkClick:n},e.label))})})]}):(0,s.jsx)(L.N,{className:z().navLink,disabled:!0,children:g})}function E({children:e}){let[t,{toggle:n}]=(0,h.j)(!1),r=(0,g.n)(e=>e.user),i=(0,g.n)(e=>e.logout);return(0,s.jsxs)(o.G,{padding:"md",header:{height:60},navbar:{width:{base:"100%",sm:260,lg:280},breakpoint:"sm",collapsed:{mobile:!t,desktop:!1}},children:[(0,s.jsx)(o.G.Header,{children:(0,s.jsxs)(a.Y,{h:"100%",px:"md",children:[(0,s.jsx)(l.w,{opened:t,onClick:n,hiddenFrom:"sm",size:"sm"}),(0,s.jsxs)(a.Y,{justify:"space-between",style:{flex:1},children:[(0,s.jsx)(p(),{href:"/admin/dashboard",style:{textDecoration:"none",color:"inherit"},children:(0,s.jsxs)(d.E,{size:"lg",fw:700,children:["JN COURIER"," ",(0,s.jsx)("span",{style:{fontWeight:400,fontSize:"0.8em"},children:"Admin"})]})}),(0,s.jsxs)(a.Y,{gap:"xs",children:[r&&(0,s.jsxs)(d.E,{size:"sm",c:"dimmed",mr:"md",children:[r.name||r.email," (",r.role,")"]}),(0,s.jsx)(j,{}),r&&(0,s.jsx)(m.$,{onClick:()=>{i()},variant:"light",color:"red",size:"xs",leftSection:(0,s.jsx)(A.A,{size:16,stroke:1.5}),children:"Salir"})]})]})]})}),(0,s.jsx)(o.G.Navbar,{p:"md",children:(0,s.jsx)(o.G.Section,{grow:!0,component:c.F,mx:"-md",px:"md",scrollbarSize:8,type:"hover",children:_.map(e=>(0,s.jsx)(T,{item:e,onLinkClick:()=>{t&&n()}},e.label))})}),(0,s.jsx)(o.G.Main,{children:e})]})}new r.E({defaultOptions:{queries:{staleTime:3e5,refetchOnWindowFocus:!1}}});let R=new r.E({defaultOptions:{queries:{staleTime:2e4,refetchOnWindowFocus:!1}}});function W({children:e}){let t=(0,g.n)(e=>e.isAuthenticated),n=(0,g.n)(e=>e.user),r=(0,g.n)(e=>e.isLoading);return((0,S.useRouter)(),r)?(0,s.jsx)("div",{children:"Cargando sesi\xf3n..."}):t&&n?.role==="ADMINISTRATOR"?(0,s.jsx)(i.Ht,{client:R,children:(0,s.jsx)(E,{children:e})}):null}},15041:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var s=n(60687),r=n(43210),i=n(45768),o=n(61982),a=n(50894);n(94296);var l=n(98231);n(78158),n(13365);let d={fontFamily:"Montserrat, sans-serif",primaryColor:"blue"};function m({children:e}){let t=(0,a.n)(e=>e.theme),[n,m]=(0,r.useState)("light");return(0,s.jsxs)("html",{lang:"es",suppressHydrationWarning:!0,className:"dark"===n?"dark-theme":"light-theme",children:[(0,s.jsxs)("head",{children:[(0,s.jsx)(i.c,{defaultColorScheme:t}),(0,s.jsx)("meta",{charSet:"UTF-8"}),(0,s.jsx)("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width, user-scalable=no"})]}),(0,s.jsx)("body",{suppressHydrationWarning:!0,className:"dark"===n?"dark-theme":"light-theme",children:(0,s.jsxs)(o.y,{theme:d,defaultColorScheme:n,forceColorScheme:n,children:[(0,s.jsx)(l.$,{}),e]})})]})}},34863:(e,t,n)=>{Promise.resolve().then(n.bind(n,9531))},36201:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});let s=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/(admin_panel)/layout.tsx","default")},40487:e=>{e.exports={navLink:"AppNavItem_navLink__cuihq",navControl:"AppNavItem_navControl__urZGd",active:"AppNavItem_active__VRn3q",activeParent:"AppNavItem_activeParent__1SOmS",linkContent:"AppNavItem_linkContent__N9LcE",linkLabel:"AppNavItem_linkLabel__CsfZ_","mantine-ThemeIcon-root":"AppNavItem_mantine-ThemeIcon-root__ATEb6",chevron:"AppNavItem_chevron__K59ag","mantine-Collapse-root":"AppNavItem_mantine-Collapse-root__DlKvU",subItemsContainer:"AppNavItem_subItemsContainer__TK1EX",subItem:"AppNavItem_subItem__F8ERr"}},49064:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,86346,23)),Promise.resolve().then(n.t.bind(n,27924,23)),Promise.resolve().then(n.t.bind(n,35656,23)),Promise.resolve().then(n.t.bind(n,40099,23)),Promise.resolve().then(n.t.bind(n,38243,23)),Promise.resolve().then(n.t.bind(n,28827,23)),Promise.resolve().then(n.t.bind(n,62763,23)),Promise.resolve().then(n.t.bind(n,97173,23))},50894:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var s=n(26787),r=n(59350);let i=(0,s.v)()((0,r.Zr)((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,theme:"light",setUser:(t,n)=>{console.log("AuthStore: Setting user and token",{user:t,token:n}),e({user:t,token:n,isAuthenticated:!!t&&!!n,isLoading:!1,error:null})},logout:()=>{console.log("AuthStore: Logging out"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})},setCountryOfOrigin:t=>{e(e=>({user:e.user?{...e.user,countryOfOrigin:t}:null}))},setLoading:t=>e({isLoading:t}),setError:t=>e({isLoading:!1,error:t}),hydrateAuth:(t,n)=>{t&&n?(console.log("AuthStore: Hydrating auth state",{initialUser:t,initialToken:n}),e({user:t,token:n,isAuthenticated:!0,isLoading:!1,error:null})):e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})},setTheme:t=>{console.log("AuthStore: Setting theme to",t),e({theme:t})},toggleTheme:()=>{let n,s=t().theme;console.log("AuthStore: Toggling theme to",n="light"===s?"dark":"dark"===s?"light":"dark"),e({theme:n})}}),{name:"pwa-auth-storage",storage:(0,r.KU)(()=>localStorage),partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated,theme:e.theme}),onRehydrateStorage:()=>e=>{console.log("AuthStore: State rehydrated from localStorage. Theme:",e?.theme),e&&(e.isLoading=!1)}}))},62216:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,16444,23)),Promise.resolve().then(n.t.bind(n,16042,23)),Promise.resolve().then(n.t.bind(n,88170,23)),Promise.resolve().then(n.t.bind(n,49477,23)),Promise.resolve().then(n.t.bind(n,29345,23)),Promise.resolve().then(n.t.bind(n,12089,23)),Promise.resolve().then(n.t.bind(n,46577,23)),Promise.resolve().then(n.t.bind(n,31307,23))},65347:(e,t,n)=>{Promise.resolve().then(n.bind(n,15041))},78158:()=>{},89323:(e,t,n)=>{Promise.resolve().then(n.bind(n,94431))},94431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});let s=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/edgar/Downloads/_DOWNLOADS/projectoIA/sistema-matematica-ia-pwa/src/app/layout.tsx","default")}};